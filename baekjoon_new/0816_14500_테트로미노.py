'''
5 5
1 2 3 4 5
5 4 3 2 1
2 3 4 5 6
6 5 4 3 2
1 2 1 2 1


4 5
1 2 3 4 5
1 2 3 4 5
1 2 3 4 5
1 2 3 4 5


4 10
1 2 1 2 1 2 1 2 1 2
2 1 2 1 2 1 2 1 2 1
1 2 1 2 1 2 1 2 1 2
2 1 2 1 2 1 2 1 2 1
'''

N, M = map(int, input().split())
board = [list(map(int, input().split())) for _ in range(N)]

move1 =[[[0,0],[1,0],[2,0],[3,0]],  # ㅡ
     [[0,0],[0,1],[0,2],[0,3]]]

move2 = [[[0,0],[0,1],[1,0],[1,1]]] # 네모

move3 =[[[0,0],[1,0],[2,0],[2,-1]],  # ㄴ
     [[0,0],[0,-1],[1,0],[2,0]],
     [[0,0],[1,0],[2,0],[2,1]],
     [[0,0],[1,0],[2,0],[0,1]],
     [[0,0],[0,-1],[0,-2],[1,0]],
     [[0,0],[-1,0],[0,-1],[0,-2]],
     [[0,0],[-1,0],[0,1],[0,2]],
     [[0,0],[1,0],[0,1],[0,2]]]

move4 = [[[0,0],[1,0],[1,1],[2,1]], # ㄹ
      [[0,0],[0,1],[-1,1],[-1,2]],
      [[0,0],[1,0],[1,-1],[2,-1]],
      [[0,0],[0,1],[1,1],[1,2]]]

move5 = [[[0,0],[0,1],[0,2],[1,1]],  # ㅗ
      [[0,0],[0,1],[-1,1],[1,1]],
      [[0,0],[0,1],[0,2],[-1,1]],
      [[0,0],[1,0],[2,0],[1,1]]]

all_move = move1 + move2 + move3 + move4 + move5

mymax = 0
for i in range(N):
    for j in range(M):
        for move in all_move:
            result = 0
            for a, b in move:
                xi, yi = i + a, j + b

                if 0 <= xi < N and 0 <= yi < M:
                    result += board[xi][yi]
                else:
                    break
            if mymax < result:
                mymax = result

print(mymax)
